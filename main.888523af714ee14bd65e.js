(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,t,a){"use strict";a.r(t);a("RtS0"),a("IvQZ"),a("4NM0"),a("3dw1"),a("yjly");var n={form:document.querySelector(".js-form"),submitButton:document.querySelector(".button-submit"),table:document.querySelector("table"),select:document.querySelector(".filter-teammate"),confirmDeletingBtn:document.querySelector("#confirm-deleting-event")},r=a("A3AF"),o=a("QJ3N");a("bzha"),a("zrP5");function i(){n.form.elements.teammate.forEach((function(e){return e.disabled=!e.disabled}))}function l(){var e=[];for(var t in localStorage)if(localStorage.hasOwnProperty(t)&&36===t.length){var a=JSON.parse(localStorage.getItem(t));e.push(a)}return e}function c(){l().forEach((function(e){var t=e.meetingName,a=e.meetingDay,r=e.meetingTime;if(n.table){var o="<span>"+t+'</span><button class="btn-close" type="button" data-toggle="modal" data-target="#myModal"></button>',i=n.table.querySelector("[data-time='"+r+"'] > [data-day=\""+a+'"]');i.innerHTML="",i.insertAdjacentHTML("beforeend",o),i.classList.add("active-event")}}))}c(),n.form&&(n.submitButton.addEventListener("click",(function(e){var t=n.form.elements,a=t.meeting.value,i=t.day.value,c=t.time.value,m=[];"all-members"===t.team.value?m.push(t.team.value):t.teammate.forEach((function(e){e.checked&&m.push(e.value)}));var d={meetingName:a,meetingDay:i,meetingTime:c,meetingMembers:m},s=!1;l().forEach((function(t){var a=t.meetingDay,n=t.meetingTime;a===i&&n===c&&(Object(o.error)({text:"Failed to create an event. Time slot is already booked.",delay:3e3}),s=!0,e.preventDefault())})),s||localStorage.setItem(Object(r.a)(),JSON.stringify(d))})),n.form.querySelector("#radio1").addEventListener("change",i),n.form.querySelector("#radio2").addEventListener("change",i)),n.table&&(n.select.addEventListener("change",(function(e){if("all-members"===e.target.value)return void c();l().forEach((function(t){var a=t.meetingMembers,r=t.meetingName,o=t.meetingDay,i=t.meetingTime;if(a.includes(e.target.value)||a.includes("all-members")){var l="<span>"+r+'</span><button class="btn-close" type="button" data-toggle="modal" data-target="#myModal"></button>',c=n.table.querySelector("[data-time='"+i+"'] > [data-day=\""+o+'"]');c.innerHTML="",c.insertAdjacentHTML("beforeend",l),c.classList.add("active-event")}else{var m=n.table.querySelector("[data-time='"+i+"'] > [data-day=\""+o+'"]');m.innerHTML="",m.classList.remove("active-event")}}))})),n.table.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=e.target.parentNode,a=t.dataset.day,r=t.parentNode.dataset.time,o=n.table.querySelector("[data-time='"+r+"'] > [data-day=\""+a+'"]');n.confirmDeletingBtn.addEventListener("click",(function(){for(var e in localStorage)if(localStorage.hasOwnProperty(e)&&36===e.length){var t=JSON.parse(localStorage.getItem(e));if(t.meetingDay===a&&t.meetingTime===r){localStorage.removeItem(e);break}}o.innerHTML="",o.classList.remove("active-event")}))})))},yjly:function(e,t,a){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.888523af714ee14bd65e.js.map