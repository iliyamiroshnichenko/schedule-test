(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,t,a){"use strict";a.r(t);a("IlJM"),a("RtS0"),a("IvQZ"),a("4NM0"),a("3dw1"),a("yjly");var n=a("A3AF"),r=a("QJ3N");a("bzha"),a("zrP5");var i={form:document.querySelector(".js-form"),submitButton:document.querySelector(".button-submit"),table:document.querySelector("table"),select:document.querySelector(".filter-teammate"),confirmDeletingBtn:document.querySelector("#confirm-deleting-event")};function o(){var e=[];for(var t in localStorage)if(localStorage.hasOwnProperty(t)&&36===t.length){var a=JSON.parse(localStorage.getItem(t));e.push(a)}return e}function l(){i.form.elements.teammate.forEach((function(e){return e.disabled=!e.disabled}))}function m(e,t,a){var n="<span>"+e+'</span><button class="btn-close" type="button" data-toggle="modal" data-target="#myModal"></button>',r=i.table.querySelector("[data-time='"+t+"'] > [data-day=\""+a+'"]');r.innerHTML="",r.insertAdjacentHTML("beforeend",n),r.classList.add("active-event")}function c(){o().forEach((function(e){var t=e.meetingName,a=e.meetingDay,n=e.meetingTime;i.table&&m(t,n,a)}))}c(),i.form&&(i.submitButton.addEventListener("click",(function(e){var t=i.form.elements,a=t.meeting.value,l=t.day.value,m=t.time.value,c=[];"all-members"===t.team.value?c.push(t.team.value):t.teammate.forEach((function(e){e.checked&&c.push(e.value)}));var d={meetingName:a,meetingDay:l,meetingTime:m,meetingMembers:c};o().find((function(e){var t=e.meetingDay,a=e.meetingTime;return t===l&&a===m}))?(Object(r.error)({text:"Failed to create an event. Time slot is already booked.",delay:3e3}),e.preventDefault()):localStorage.setItem(Object(n.a)(),JSON.stringify(d))})),i.form.querySelector("#radio1").addEventListener("change",l),i.form.querySelector("#radio2").addEventListener("change",l)),i.table&&(i.select.addEventListener("change",(function(e){if("all-members"===e.target.value)return void c();o().forEach((function(t){var a=t.meetingMembers,n=t.meetingName,r=t.meetingDay,o=t.meetingTime;if(a.includes(e.target.value)||a.includes("all-members"))m(n,o,r);else{var l=i.table.querySelector("[data-time='"+o+"'] > [data-day=\""+r+'"]');l.innerHTML="",l.classList.remove("active-event")}}))})),i.table.addEventListener("click",(function(e){if("BUTTON"!==e.target.nodeName)return;var t=e.target.parentNode,a=t.dataset.day,n=t.parentNode.dataset.time,r=i.table.querySelector("[data-time='"+n+"'] > [data-day=\""+a+'"]');i.confirmDeletingBtn.addEventListener("click",(function(){for(var e in localStorage)if(localStorage.hasOwnProperty(e)&&36===e.length){var t=JSON.parse(localStorage.getItem(e));if(t.meetingDay===a&&t.meetingTime===n){localStorage.removeItem(e);break}}r.innerHTML="",r.classList.remove("active-event")}))})))},yjly:function(e,t,a){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.d1574b16fa63a3fa87bc.js.map